{
  "_meta": {
    "description": "High-cardinality observability patterns: wide events, deep traces, multi-tenant",
    "scenario": "Production observability data for testing sampling policy cardinality handling",
    "patterns": ["wide_events", "deep_traces", "high_cardinality", "multi_tenant", "correlation"],
    "traces": 50
  },
  "traces": [
    {
      "trace_id": "obs-wide-001",
      "service.name": "api-gateway",
      "http.method": "POST",
      "http.route": "/api/v2/checkout",
      "http.status_code": 200,
      "duration_ms": 2340,
      "span_count": 45,
      "error": false,
      "pattern": "wide_event",
      "attribute_count": 85,
      "user.id": "usr_a1b2c3d4e5f6",
      "user.email_domain": "example.com",
      "user.tier": "enterprise",
      "user.org_id": "org_xyz789",
      "user.country": "US",
      "user.region": "CA",
      "user.timezone": "America/Los_Angeles",
      "user.locale": "en-US",
      "user.signup_cohort": "2023-Q4",
      "session.id": "sess_9f8e7d6c5b4a",
      "session.duration_seconds": 1847,
      "session.page_views": 23,
      "session.device_type": "desktop",
      "session.browser": "Chrome",
      "session.browser_version": "120.0.6099",
      "session.os": "macOS",
      "session.os_version": "14.2",
      "request.id": "req_abc123def456",
      "request.idempotency_key": "idem_xyz789",
      "request.user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",
      "request.referer": "https://example.com/cart",
      "request.ip_geo.country": "US",
      "request.ip_geo.region": "California",
      "request.ip_geo.city": "San Francisco",
      "request.ip_geo.asn": "AS7922",
      "request.ip_geo.isp": "Comcast",
      "cart.id": "cart_m1n2o3p4",
      "cart.item_count": 5,
      "cart.total_cents": 45999,
      "cart.currency": "USD",
      "cart.coupon_code": "SAVE20",
      "cart.discount_cents": 9199,
      "order.id": "ord_q5r6s7t8",
      "order.status": "completed",
      "payment.method": "card",
      "payment.card_brand": "visa",
      "payment.card_last4": "4242",
      "payment.amount_cents": 36800,
      "payment.processor": "stripe",
      "payment.risk_score": 15,
      "shipping.method": "express",
      "shipping.carrier": "fedex",
      "shipping.estimated_days": 2,
      "shipping.address_verified": true,
      "feature_flags.new_checkout": true,
      "feature_flags.split_payments": false,
      "feature_flags.loyalty_points": true,
      "experiment.checkout_variant": "treatment_b",
      "experiment.user_bucket": 73,
      "ab_test.conversion_tracked": true
    },
    {
      "trace_id": "obs-wide-002",
      "service.name": "analytics-service",
      "http.method": "POST",
      "http.route": "/internal/events/batch",
      "http.status_code": 202,
      "duration_ms": 45,
      "span_count": 3,
      "error": false,
      "pattern": "wide_event",
      "attribute_count": 120,
      "batch.event_count": 50,
      "batch.size_bytes": 125000,
      "batch.compression": "gzip",
      "batch.schema_version": "v3.2",
      "events.types": ["page_view", "click", "form_submit", "purchase"],
      "events.source": "web_sdk",
      "events.sdk_version": "4.5.2",
      "collector.region": "us-west-2",
      "collector.instance": "collector-7d9f8",
      "collector.queue_depth": 1234,
      "pipeline.stage": "ingestion",
      "pipeline.validation_passed": true,
      "pipeline.enrichment_applied": true
    },
    {
      "trace_id": "obs-deep-001",
      "service.name": "api-gateway",
      "http.method": "GET",
      "http.route": "/api/v2/dashboard",
      "http.status_code": 200,
      "duration_ms": 3456,
      "span_count": 250,
      "error": false,
      "pattern": "deep_trace",
      "trace.depth": 12,
      "trace.width": 45,
      "trace.services_involved": 15,
      "trace.async_spans": 45,
      "trace.sync_spans": 205,
      "aggregation.queries": 25,
      "aggregation.cache_hits": 18,
      "aggregation.db_calls": 7
    },
    {
      "trace_id": "obs-deep-002",
      "service.name": "report-service",
      "http.method": "POST",
      "http.route": "/api/v2/reports/generate",
      "http.status_code": 200,
      "duration_ms": 45000,
      "span_count": 1500,
      "error": false,
      "pattern": "deep_trace",
      "trace.depth": 8,
      "trace.width": 200,
      "report.type": "quarterly_analytics",
      "report.data_sources": 12,
      "report.rows_processed": 5000000,
      "report.charts_generated": 45
    },
    {
      "trace_id": "obs-hc-user-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/users/:id",
      "http.status_code": 200,
      "duration_ms": 45,
      "pattern": "high_cardinality",
      "cardinality.field": "user.id",
      "user.id": "usr_unique_8a7b6c5d4e3f2a1b",
      "user.email_hash": "sha256:a1b2c3d4e5f6",
      "note": "User ID has millions of unique values"
    },
    {
      "trace_id": "obs-hc-user-002",
      "service.name": "api-gateway",
      "http.route": "/api/v2/users/:id",
      "http.status_code": 200,
      "duration_ms": 52,
      "pattern": "high_cardinality",
      "cardinality.field": "user.id",
      "user.id": "usr_unique_1f2e3d4c5b6a7890"
    },
    {
      "trace_id": "obs-hc-req-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/orders",
      "http.status_code": 201,
      "duration_ms": 234,
      "pattern": "high_cardinality",
      "cardinality.field": "request.id",
      "request.id": "req_9a8b7c6d5e4f3a2b1c0d",
      "request.correlation_id": "corr_1a2b3c4d5e6f7a8b"
    },
    {
      "trace_id": "obs-hc-err-001",
      "service.name": "payment-service",
      "http.route": "/internal/charge",
      "http.status_code": 500,
      "duration_ms": 890,
      "error": true,
      "pattern": "high_cardinality",
      "cardinality.field": "error.message",
      "error.message": "Card declined: insufficient funds for transaction txn_abc123 amount 4599 currency USD",
      "error.code": "card_declined",
      "error.decline_code": "insufficient_funds",
      "note": "Error messages with embedded IDs create cardinality explosion"
    },
    {
      "trace_id": "obs-hc-err-002",
      "service.name": "payment-service",
      "http.route": "/internal/charge",
      "http.status_code": 500,
      "duration_ms": 1234,
      "error": true,
      "pattern": "high_cardinality",
      "cardinality.field": "error.stack_trace",
      "error.message": "Connection timeout to payment processor",
      "error.stack_trace_hash": "sha256:deadbeef",
      "error.stack_trace_lines": 45,
      "note": "Stack traces with line numbers and memory addresses"
    },
    {
      "trace_id": "obs-tenant-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/data",
      "http.status_code": 200,
      "duration_ms": 89,
      "pattern": "multi_tenant",
      "tenant.id": "tenant_acme_corp",
      "tenant.tier": "enterprise",
      "tenant.data_region": "us-west-2",
      "tenant.isolation": "dedicated",
      "tenant.rate_limit": 10000,
      "tenant.features": ["advanced_analytics", "custom_integrations", "sso"]
    },
    {
      "trace_id": "obs-tenant-002",
      "service.name": "api-gateway",
      "http.route": "/api/v2/data",
      "http.status_code": 200,
      "duration_ms": 234,
      "pattern": "multi_tenant",
      "tenant.id": "tenant_startup_xyz",
      "tenant.tier": "starter",
      "tenant.data_region": "us-east-1",
      "tenant.isolation": "shared",
      "tenant.rate_limit": 100,
      "tenant.features": ["basic_analytics"]
    },
    {
      "trace_id": "obs-tenant-003",
      "service.name": "api-gateway",
      "http.route": "/api/v2/data",
      "http.status_code": 429,
      "duration_ms": 5,
      "error": true,
      "pattern": "multi_tenant",
      "tenant.id": "tenant_noisy_neighbor",
      "tenant.tier": "starter",
      "tenant.rate_limit_exceeded": true,
      "tenant.requests_this_minute": 150,
      "tenant.rate_limit": 100,
      "error.message": "Rate limit exceeded for tenant"
    },
    {
      "trace_id": "obs-corr-parent-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/orders",
      "http.status_code": 201,
      "duration_ms": 2340,
      "span_count": 45,
      "pattern": "correlation",
      "trace.parent_id": null,
      "trace.is_root": true,
      "correlation.order_id": "ord_abc123",
      "correlation.user_id": "usr_xyz789",
      "correlation.session_id": "sess_def456"
    },
    {
      "trace_id": "obs-corr-child-001",
      "service.name": "payment-service",
      "http.route": "/internal/charge",
      "http.status_code": 200,
      "duration_ms": 890,
      "span_count": 12,
      "pattern": "correlation",
      "trace.parent_id": "obs-corr-parent-001",
      "trace.is_root": false,
      "correlation.order_id": "ord_abc123",
      "correlation.payment_id": "pay_ghi789"
    },
    {
      "trace_id": "obs-corr-child-002",
      "service.name": "inventory-service",
      "http.route": "/internal/reserve",
      "http.status_code": 200,
      "duration_ms": 67,
      "span_count": 5,
      "pattern": "correlation",
      "trace.parent_id": "obs-corr-parent-001",
      "trace.is_root": false,
      "correlation.order_id": "ord_abc123",
      "correlation.reservation_id": "res_jkl012"
    },
    {
      "trace_id": "obs-corr-async-001",
      "service.name": "notification-service",
      "messaging.system": "kafka",
      "messaging.destination": "order.created",
      "http.status_code": 200,
      "duration_ms": 23,
      "pattern": "correlation",
      "trace.linked_trace_id": "obs-corr-parent-001",
      "trace.link_type": "follows_from",
      "correlation.order_id": "ord_abc123",
      "async.trigger": "order_created_event"
    },
    {
      "trace_id": "obs-sampling-keep-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/checkout",
      "http.status_code": 500,
      "duration_ms": 5670,
      "error": true,
      "pattern": "sampling_decision",
      "sampling.decision": "keep",
      "sampling.rule": "keep-errors",
      "sampling.priority": 100,
      "error.type": "PaymentProcessingError",
      "note": "Errors should always be kept"
    },
    {
      "trace_id": "obs-sampling-keep-002",
      "service.name": "api-gateway",
      "http.route": "/api/v2/search",
      "http.status_code": 200,
      "duration_ms": 15000,
      "error": false,
      "pattern": "sampling_decision",
      "sampling.decision": "keep",
      "sampling.rule": "keep-slow",
      "sampling.priority": 90,
      "slow.threshold_ms": 5000,
      "note": "Slow requests should be kept for investigation"
    },
    {
      "trace_id": "obs-sampling-keep-003",
      "service.name": "api-gateway",
      "http.route": "/api/v2/checkout",
      "http.status_code": 201,
      "duration_ms": 2340,
      "error": false,
      "pattern": "sampling_decision",
      "sampling.decision": "keep",
      "sampling.rule": "keep-high-value",
      "sampling.priority": 80,
      "order.total_cents": 500000,
      "order.is_high_value": true,
      "note": "High-value transactions should be kept"
    },
    {
      "trace_id": "obs-sampling-sample-001",
      "service.name": "api-gateway",
      "http.route": "/health",
      "http.status_code": 200,
      "duration_ms": 2,
      "error": false,
      "pattern": "sampling_decision",
      "sampling.decision": "sample",
      "sampling.rule": "sample-health-checks",
      "sampling.rate": 0.001,
      "note": "Health checks sampled at 0.1%"
    },
    {
      "trace_id": "obs-sampling-sample-002",
      "service.name": "api-gateway",
      "http.route": "/api/v2/products",
      "http.status_code": 200,
      "duration_ms": 45,
      "error": false,
      "pattern": "sampling_decision",
      "sampling.decision": "sample",
      "sampling.rule": "sample-normal-traffic",
      "sampling.rate": 0.10,
      "note": "Normal successful traffic sampled at 10%"
    },
    {
      "trace_id": "obs-sampling-drop-001",
      "service.name": "monitoring-service",
      "http.route": "/internal/metrics",
      "http.status_code": 200,
      "duration_ms": 5,
      "error": false,
      "pattern": "sampling_decision",
      "sampling.decision": "drop",
      "sampling.rule": "drop-internal-metrics",
      "note": "Internal metrics traffic dropped"
    },
    {
      "trace_id": "obs-debug-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/debug/trace",
      "http.status_code": 200,
      "duration_ms": 234,
      "pattern": "debug_trace",
      "debug.enabled": true,
      "debug.verbose": true,
      "debug.request_id": "debug_abc123",
      "sampling.force_keep": true,
      "note": "Debug traces always kept regardless of rules"
    },
    {
      "trace_id": "obs-canary-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/products",
      "http.status_code": 200,
      "duration_ms": 52,
      "pattern": "deployment_canary",
      "deployment.version": "v2.5.0-canary",
      "deployment.canary": true,
      "deployment.canary_percent": 5,
      "sampling.boost": true,
      "sampling.boosted_rate": 1.0,
      "note": "Canary deployments sampled at 100%"
    },
    {
      "trace_id": "obs-canary-002",
      "service.name": "api-gateway",
      "http.route": "/api/v2/products",
      "http.status_code": 200,
      "duration_ms": 48,
      "pattern": "deployment_stable",
      "deployment.version": "v2.4.5",
      "deployment.canary": false,
      "sampling.rate": 0.10
    },
    {
      "trace_id": "obs-slo-breach-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/checkout",
      "http.status_code": 200,
      "duration_ms": 8500,
      "error": false,
      "pattern": "slo_breach",
      "slo.name": "checkout_latency_p99",
      "slo.target_ms": 5000,
      "slo.breached": true,
      "slo.severity": "warning",
      "sampling.decision": "keep",
      "sampling.rule": "keep-slo-breaches",
      "note": "SLO breaches should be kept for analysis"
    },
    {
      "trace_id": "obs-budget-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/products",
      "http.status_code": 200,
      "duration_ms": 45,
      "pattern": "error_budget",
      "error_budget.service": "api-gateway",
      "error_budget.remaining_percent": 15.5,
      "error_budget.burn_rate": 2.3,
      "error_budget.alert_threshold": 10.0,
      "note": "Track error budget consumption"
    },
    {
      "trace_id": "obs-apdex-satisfied-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/users",
      "http.status_code": 200,
      "duration_ms": 45,
      "pattern": "apdex",
      "apdex.threshold_ms": 500,
      "apdex.tolerable_ms": 2000,
      "apdex.category": "satisfied",
      "apdex.score_contribution": 1.0
    },
    {
      "trace_id": "obs-apdex-tolerating-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/search",
      "http.status_code": 200,
      "duration_ms": 890,
      "pattern": "apdex",
      "apdex.threshold_ms": 500,
      "apdex.tolerable_ms": 2000,
      "apdex.category": "tolerating",
      "apdex.score_contribution": 0.5
    },
    {
      "trace_id": "obs-apdex-frustrated-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/reports",
      "http.status_code": 200,
      "duration_ms": 5670,
      "pattern": "apdex",
      "apdex.threshold_ms": 500,
      "apdex.tolerable_ms": 2000,
      "apdex.category": "frustrated",
      "apdex.score_contribution": 0.0
    },
    {
      "trace_id": "obs-golden-signals-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/orders",
      "http.status_code": 201,
      "duration_ms": 234,
      "pattern": "golden_signals",
      "golden.latency_ms": 234,
      "golden.traffic_rps": 1500,
      "golden.errors_percent": 0.5,
      "golden.saturation_percent": 65,
      "note": "The four golden signals of monitoring"
    },
    {
      "trace_id": "obs-red-method-001",
      "service.name": "order-service",
      "http.route": "/internal/orders",
      "http.status_code": 201,
      "duration_ms": 89,
      "pattern": "red_method",
      "red.rate_rps": 500,
      "red.errors_percent": 1.2,
      "red.duration_ms": 89,
      "note": "RED method: Rate, Errors, Duration"
    },
    {
      "trace_id": "obs-use-method-001",
      "service.name": "database-service",
      "db.system": "postgresql",
      "http.status_code": 200,
      "duration_ms": 12,
      "pattern": "use_method",
      "use.utilization_percent": 72,
      "use.saturation_queue_depth": 5,
      "use.errors_count": 0,
      "db.connection_pool.used": 18,
      "db.connection_pool.max": 25,
      "note": "USE method: Utilization, Saturation, Errors"
    },
    {
      "trace_id": "obs-exemplar-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/checkout",
      "http.status_code": 200,
      "duration_ms": 2340,
      "pattern": "metric_exemplar",
      "metric.name": "http_request_duration_seconds",
      "metric.value": 2.34,
      "metric.labels": {"method": "POST", "route": "/api/v2/checkout", "status": "200"},
      "exemplar.linked": true,
      "note": "Trace linked as exemplar to histogram bucket"
    },
    {
      "trace_id": "obs-baggage-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/products",
      "http.status_code": 200,
      "duration_ms": 89,
      "pattern": "baggage_propagation",
      "baggage.tenant_id": "tenant_abc",
      "baggage.deployment_ring": "canary",
      "baggage.debug_enabled": "false",
      "baggage.sample_rate_override": null,
      "note": "Context baggage propagated through service mesh"
    },
    {
      "trace_id": "obs-resource-attrs-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/orders",
      "http.status_code": 200,
      "duration_ms": 234,
      "pattern": "otel_resource",
      "resource.service.name": "api-gateway",
      "resource.service.version": "2.4.5",
      "resource.service.namespace": "commerce",
      "resource.deployment.environment": "production",
      "resource.host.name": "api-gateway-7d9f8b6c4-x2k9j",
      "resource.host.type": "kubernetes",
      "resource.k8s.cluster.name": "prod-us-west-2",
      "resource.k8s.namespace.name": "commerce",
      "resource.k8s.pod.name": "api-gateway-7d9f8b6c4-x2k9j",
      "resource.k8s.deployment.name": "api-gateway",
      "resource.cloud.provider": "aws",
      "resource.cloud.region": "us-west-2",
      "resource.cloud.availability_zone": "us-west-2a",
      "note": "OpenTelemetry resource attributes"
    },
    {
      "trace_id": "obs-semantic-conv-001",
      "service.name": "api-gateway",
      "http.method": "POST",
      "http.route": "/api/v2/checkout",
      "http.status_code": 201,
      "http.request.body.size": 2340,
      "http.response.body.size": 890,
      "url.scheme": "https",
      "url.path": "/api/v2/checkout",
      "server.address": "api.example.com",
      "server.port": 443,
      "client.address": "203.0.113.50",
      "client.port": 52432,
      "user_agent.original": "Mozilla/5.0",
      "duration_ms": 234,
      "pattern": "semantic_conventions",
      "note": "OpenTelemetry semantic conventions v1.24"
    },
    {
      "trace_id": "obs-log-correlation-001",
      "service.name": "order-service",
      "http.route": "/internal/orders",
      "http.status_code": 500,
      "duration_ms": 890,
      "error": true,
      "pattern": "log_correlation",
      "log.correlation_id": "obs-log-correlation-001",
      "log.entries": 15,
      "log.error_entries": 3,
      "log.first_error_line": 847,
      "error.message": "Database connection failed",
      "note": "Trace correlated with application logs"
    },
    {
      "trace_id": "obs-profile-link-001",
      "service.name": "ml-inference",
      "http.route": "/internal/predict",
      "http.status_code": 200,
      "duration_ms": 890,
      "pattern": "profile_correlation",
      "profile.linked": true,
      "profile.id": "prof_abc123",
      "profile.type": "cpu",
      "profile.duration_seconds": 30,
      "profile.hotspot_function": "matrix_multiply",
      "profile.hotspot_percent": 45.2,
      "note": "Trace linked to continuous profiling data"
    },
    {
      "trace_id": "obs-cost-attribution-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/reports/generate",
      "http.status_code": 200,
      "duration_ms": 45000,
      "pattern": "cost_attribution",
      "cost.cpu_seconds": 45,
      "cost.memory_gb_seconds": 8.5,
      "cost.storage_read_bytes": 1073741824,
      "cost.storage_write_bytes": 104857600,
      "cost.network_egress_bytes": 52428800,
      "cost.estimated_usd": 0.0234,
      "cost.attribution_tenant": "tenant_abc",
      "note": "Cost attribution metadata for chargeback"
    },
    {
      "trace_id": "obs-synthetic-001",
      "service.name": "api-gateway",
      "http.route": "/api/v2/health",
      "http.status_code": 200,
      "duration_ms": 23,
      "pattern": "synthetic_monitoring",
      "synthetic.test_id": "synth_health_check_001",
      "synthetic.test_name": "Production Health Check",
      "synthetic.location": "us-west-2",
      "synthetic.provider": "datadog",
      "synthetic.scheduled": true,
      "synthetic.passed": true,
      "note": "Synthetic monitoring test trace"
    },
    {
      "trace_id": "obs-rum-001",
      "service.name": "browser-client",
      "http.route": "/page/checkout",
      "http.status_code": 200,
      "duration_ms": 3456,
      "pattern": "real_user_monitoring",
      "rum.session_id": "rum_sess_abc123",
      "rum.page_load_ms": 2340,
      "rum.first_contentful_paint_ms": 890,
      "rum.largest_contentful_paint_ms": 1560,
      "rum.cumulative_layout_shift": 0.05,
      "rum.first_input_delay_ms": 45,
      "rum.time_to_interactive_ms": 2100,
      "rum.dom_interactive_ms": 1200,
      "rum.resources_loaded": 45,
      "rum.js_errors": 0,
      "note": "Real User Monitoring metrics from browser"
    },
    {
      "trace_id": "obs-mobile-001",
      "service.name": "mobile-ios",
      "http.route": "/api/v2/products",
      "http.status_code": 200,
      "duration_ms": 890,
      "pattern": "mobile_telemetry",
      "mobile.platform": "ios",
      "mobile.os_version": "17.2",
      "mobile.app_version": "4.5.2",
      "mobile.device_model": "iPhone15,2",
      "mobile.network_type": "wifi",
      "mobile.carrier": "Verizon",
      "mobile.battery_level": 78,
      "mobile.low_power_mode": false,
      "mobile.memory_used_mb": 234,
      "mobile.app_state": "foreground",
      "note": "Mobile application telemetry"
    }
  ]
}
